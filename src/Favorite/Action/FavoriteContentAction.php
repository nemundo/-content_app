<?phpnamespace Nemundo\Content\App\Favorite\Action;use Nemundo\Content\Action\AbstractContentAction;use Nemundo\Content\App\Favorite\Data\Favorite\Favorite;use Nemundo\Content\App\Favorite\Data\Favorite\FavoriteCount;use Nemundo\Content\Type\AbstractContentItem;use Nemundo\Content\Type\AbstractContentType;use Nemundo\Core\Http\Url\UrlReferer;use Nemundo\User\Session\UserSession;class FavoriteContentAction extends AbstractContentAction{    protected function loadAction()    {        $this->actionLabel = 'Favorite';        $this->actionId = 'e077f622-a1d7-4737-be3d-ada67c3cc8bc';        $this->viewClass=FavoriteActionView::class;    }    public function onAction(AbstractContentItem $item)    {        $data = new Favorite();        $data->updateOnDuplicate = true;        $data->contentId = $item->getContentId();        $data->userId = (new UserSession())->userId;        $data->subject =$item->getSubject();        $data->save();        /*        $count = new FavoriteCount();        $count->filter->andEqual($count->model->contentId, $this->actionContentId);        $count->filter->andEqual($count->model->userId, (new UserSession())->userId);        if ($count->getCount() == 0) {        $data = new Favorite();        //$data->ignoreIfExists = true;        $data->contentId = $content->getContentId();  //egt $this->actionContentId;        $data->userId = (new UserSession())->userId;        $data->subject = '[No Subject]';        $data->save();        }*/    }    /*public function onMenuClick(AbstractContentType $content)    {        $this->onAction($content);        (new UrlReferer())->redirect();    }*/}