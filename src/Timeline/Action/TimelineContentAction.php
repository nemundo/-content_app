<?phpnamespace Nemundo\Content\App\Timeline\Action;use Nemundo\Content\Action\AbstractContentAction;use Nemundo\Content\App\Timeline\Data\Timeline\Timeline;use Nemundo\Content\App\Timeline\Data\Timeline\TimelineDelete;use Nemundo\Content\Index\Calendar\DateTimeIndexTrait;use Nemundo\Content\Type\AbstractContentItem;use Nemundo\Content\Type\AbstractContentType;class TimelineContentAction extends AbstractContentAction{    protected function loadAction()    {        $this->actionLabel = 'Timeline';        $this->actionId = 'a54d3da2-905e-4b89-9fc2-676c6c5ced98';        $this->viewClass=TimelineActionView::class;    }    /**     * @param AbstractContentType|DateTimeIndexTrait $item     */    public function onAction(AbstractContentItem $item)    {        if ($item->isObjectOfTrait(DateTimeIndexTrait::class)) {            $data = new Timeline();            $data->updateOnDuplicate = true;            $data->contentId = $item->getContentId();            $data->dateTime = $item->getDateTime();            $data->date = $item->getDate();            $data->subject = $item->getSubject();            $data->save();        }    }    public function deleteAction(AbstractContentItem $item)    {        $delete = new TimelineDelete();        $delete->filter->andEqual($delete->model->contentId, $item->getContentId());        $delete->delete();    }}