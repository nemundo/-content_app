<?phpnamespace Nemundo\Content\App\ImageGallery\Content\ImageGallery;use Nemundo\Content\App\ImageGallery\Data\Image\Image;use Nemundo\Content\App\ImageGallery\Data\ImageGallery\ImageGallery;use Nemundo\Content\App\ImageGallery\Data\ImageGallery\ImageGalleryUpdate;use Nemundo\Content\Type\AbstractContentBuilder;use Nemundo\Model\Data\Property\File\FileProperty;class ImageGalleryBuilder extends AbstractContentBuilder{    public $imageGallery;    protected function loadBuilder()    {        $this->contentType=new ImageGalleryType();    }    protected function onCreate()    {        /*if ($this->dataId == null) {            $this->dataId=(new UniqueId())->getUniqueId();        }*/        $data = new ImageGallery();        //$data->updateOnDuplicate=true;        //$data->id = $this->dataId;        $data->imageGallery = $this->imageGallery;        $this->dataId = $data->save();    }    protected function onUpdate()    {        $update = new ImageGalleryUpdate();        $update->imageGallery = $this->imageGallery;        $update->updateById($this->dataId);    }    public function addImage(FileProperty $fileProperty)    {        $data = new Image();        $data->galleryId = $this->getDataId();        $data->image->fromFileProperty($fileProperty);        $data->itemOrder=10;        $data->save();    }}